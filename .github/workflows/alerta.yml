name: CI/CD - Electiva 2 DevOps

on:
  push:
    branches:
      - main

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
      - name: 🧭 Checkout del repositorio
        uses: actions/checkout@v4

      - name: ⚙️ Configurar entorno
        run: echo "Configurando entorno de trabajo..."

      - name: 🧪 Ejecutar build
        run: echo "Simulación de build exitosa ✅"

      - name: 📢 Notificar a ntfy.sh
        run: |
          MESSAGE="✅ Build EXITOSO
          
          Estudiante: Enmanuel Ferreras (2024-0189)
          Curso: Electiva 2 - DevOps
          Profesor: Elvys Cruz

          Repositorio: ${{ github.repository }}
          Rama: ${{ github.ref_name }}
          Commit: ${{ github.sha }}
          Autor: ${{ github.actor }}

          Mensaje: ${{ github.event.head_commit.message }}

          Ver detalles: https://github.com/${{ github.repository }}/actions/runs/${{ github.run_id }}"

          curl -d "$MESSAGE" ntfy.sh/devops-itla

